{
  "name": "elevate-sports-app",
  "version": "7.2.1",
  "description": "Chrome based extension adding features for Strava website with new performances data and improved ergonomics.",
  "maintainers": [
    {
      "name": "Thomas Champagne",
      "email": "th.champagne@gmail.com",
      "web": "https://thomaschampagne.github.io"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/thomaschampagne/elevate"
  },
  "scripts": {
    "archive": "node -e \"const bestzip = require('bestzip');const manifest = require('./dist/manifest.json');const fs = require('fs');const cwd = process.cwd() + '/dist/';const target = 'package/';const filename = `web-extension_v${manifest.version_name}.zip`;const output = '../' + target + filename;if (!fs.existsSync(target)) fs.mkdirSync(target);bestzip.nodeZip({ source: '*', cwd: cwd, destination: output }).then(() => {console.log('Generated archive ' + filename);process.exit(0);}).catch((err) => {console.error(err.stack);process.exit(1);});\"",
    "build@prod": "npm-run-all clean extension-res-copy:* build:extension@prod build:appcore@prod",
    "build:metadata": "node -e \"require('fs').writeFileSync('build_metadata.json', JSON.stringify({commit: require('child_process').execSync('git rev-parse HEAD').toString().trim(), date: new Date().toISOString()}));\"",
    "build:appcore@dev": "npm run build:metadata && cd ../appcore/ && node ./node_modules/@angular/cli/bin/ng version && node ./node_modules/@angular/cli/bin/ng build --configuration=extension --output-path=../webextension/dist/app/",
    "build:appcore@prod": "npm run build:appcore@dev -- --configuration=extension-prod",
    "build:extension@dev": "cross-env NODE_OPTIONS=--openssl-legacy-provider node ./node_modules/webpack/bin/webpack.js --config ./extension.webpack.config.js",
    "build:extension@prod": "npm run build:extension@dev -- --mode production",
    "clean": "npm-run-all clean:*",
    "clean:dist": "node ../node_modules/del-cli/cli.js ./dist/",
    "clean:package": "node ../node_modules/del-cli/cli.js ./package/",
    "clean:metadata": "node ../node_modules/del-cli/cli.js ./build_metadata.json",
    "extension-res-copy:manifest": "node ../node_modules/cpy-cli/cli.js ./manifest.json ./dist/",
    "extension-res-copy:install-guide": "node ../node_modules/cpy-cli/cli.js ./INSTALL.txt ./dist/",
    "package": "npm-run-all clean build@prod archive",
    "start": "npm run watch",
    "test": "node ./node_modules/karma/bin/karma start karma.conf.js --single-run",
    "test:ui-browser": "npm run test -- --browsers Chrome",
    "lint": "eslint --ext ts . --fix",
    "type:check": "tsc --noEmit --project tsconfig.json && tsc --noEmit --project tsconfig.spec.json",
    "watch": "npm run clean && npm-run-all extension-res-copy:* && npm-run-all --print-label --parallel watch:appcore watch:extension",
    "watch:appcore": "npm run build:appcore@dev -- --watch",
    "watch:extension": "npm run build:extension@dev -- --watch",
    "upgrade:check": "ncu",
    "upgrade:apply": "npm run upgrade:check -- -u"
  },
  "config": {
    "unsafe-perm": true
  },
  "author": "Thomas Champagne",
  "license": "MPL-2.0",
  "readme": "README.md",
  "engines": {
    "node": ">=14"
  },
  "engineStrict": true,
  "dependencies": {
    "@elevate/shared": "file:../appcore/modules/shared/",
    "chart.js": "^2.9.4",
    "fancybox": "^3.0.1",
    "file-saver": "^2.0.5",
    "geodesy": "^2.2.1",
    "hash.js": "^1.1.7",
    "jquery": "^3.5.1",
    "js-cookie": "^2.2.1",
    "lodash": "^4.17.20",
    "lz-string": "^1.5.0",
    "q": "^1.5.1",
    "qrcode": "^1.4.4",
    "semver": "^7.3.4"
  },
  "devDependencies": {
    "@types/chart.js": "^2.9.30",
    "@types/chrome": "0.0.263",
    "@types/file-saver": "^2.0.1",
    "@types/filesystem": "0.0.29",
    "@types/filewriter": "0.0.28",
    "@types/geodesy": "^2.2.2",
    "@types/googlemaps": "^3.43.2",
    "@types/jasmine": "^3.6.3",
    "@types/jquery": "^3.5.5",
    "@types/js-cookie": "^2.2.6",
    "@types/lodash": "^4.14.168",
    "@types/nvd3": "^1.8.41",
    "@types/q": "^1.5.4",
    "@types/qrcode": "^1.4.0",
    "@types/semver": "^7.3.4",
    "bestzip": "^2.1.7",
    "copy-webpack-plugin": "^6.4.1",
    "css-loader": "^5.0.2",
    "file-loader": "^6.2.0",
    "jasmine": "^3.6.4",
    "jasmine-core": "^3.6.0",
    "karma": "^6.1.0",
    "karma-chrome-launcher": "^3.1.0",
    "karma-coverage": "^2.0.3",
    "karma-jasmine": "^4.0.1",
    "karma-opera-launcher": "^1.0.0",
    "karma-promise": "^0.1.0",
    "karma-spec-reporter": "0.0.32",
    "karma-typescript": "^5.2.0",
    "karma-webpack": "^4.0.2",
    "npm-run-all": "^4.1.5",
    "style-loader": "^2.0.0",
    "traceur": "0.0.111",
    "ts-loader": "^8.0.15",
    "typescript": "^4.1.3",
    "url-loader": "^4.1.1",
    "webpack": "^4.46.0",
    "webpack-cli": "^3.3.12",
    "@typescript-eslint/eslint-plugin": "^5.7.0",
    "@typescript-eslint/parser": "^5.7.0",
    "eslint": "^8.5.0",
    "eslint-config-prettier": "^8.3.0",
    "eslint-plugin-prettier": "^4.0.0",
    "worker-loader": "^2.0.0"
  }
}
